(function(e){function t(t){for(var o,i,c=t[0],l=t[1],s=t[2],u=0,p=[];u<c.length;u++)i=c[u],a[i]&&p.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"65de64f3"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=a[e]=[t,o]});t.push(n[2]=o);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),r=function(t){l.onerror=l.onload=null,clearTimeout(s);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[e]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:l})},12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"50df":function(e,t,n){},"75a4":function(e,t,n){},"7faf":function(e,t,n){"use strict";var o=n("8fba"),a=n.n(o);a.a},"8d07":function(e,t,n){},"8fba":function(e,t,n){},c219:function(e,t,n){"use strict";var o=n("e9bb"),a=n.n(o);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o,a,r,i,c=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],u={name:"app",components:{}},d=u,p=(n("7faf"),n("2877")),m=Object(p["a"])(d,l,s,!1,null,null,null),f=m.exports,h=n("8c4f"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{staticClass:"bg-blue c-f flex-center-align"},[n("h1",[e._v("web component 组件生成器")])]),n("el-main",{staticClass:"main"},[n("el-row",{staticClass:"height-100"},[n("el-col",{staticClass:"p10",attrs:{span:8}},[n("list")],1),n("el-col",{staticClass:"height-100",attrs:{span:8}},[n("mobile",{staticClass:"bg-f2 height-100",attrs:{"component-data":e.currentComponent}})],1),n("el-col",{staticClass:"height-100",attrs:{span:8}},[e.currentComponent?n("config",{staticClass:"height-100",attrs:{"component-data":e.currentComponent},on:{change:e.updateComponent,updateNodeText:e.updateNodeText,updateNodeEvent:e.updateNodeEvent}}):e._e()],1)],1)],1),n("el-footer",[n("div",{staticClass:"tc c-999 pt10"},[e._v("\n      @jmingzi\n      "),n("p",[e._v("全局文件："),n("a",{attrs:{href:"https://iming.work/demo/generate-web-components/service/public/define.js",target:"_blank"}},[e._v("https://iming.work/demo/generate-web-components/service/public/define.js")])])])])],1)},b=[],g=n("cebc"),y=n("2f62"),x=(n("7f7f"),c["default"].extend({name:"Mobile",props:{componentData:{type:Object}},computed:{},created:function(){},methods:{renderComponent:function(e){return this.$createElement(e.name)}},render:function(){var e=arguments[0];return e("div",{class:"preview"},[e("div",{class:"preview__mobile"},[this.componentData&&this.renderComponent(this.componentData)])])}})),k=x,C=(n("cea4"),Object(p["a"])(k,o,a,!1,null,null,null)),_=C.exports,w=(n("28a5"),n("ac6a"),n("456d"),{base:{name:"基础",type:"group",children:{width:{name:"宽度",type:"number",min:0,max:1e3},isAutoWidth:{name:"宽度auto",type:"checkbox"},height:{name:"高度",type:"number",min:0,max:1e4},isAutoHeight:{name:"高度auto",type:"checkbox"},textAlign:{name:"对齐方式",type:"select",options:[{label:"左",value:"left"},{label:"中",value:"center"},{label:"右",value:"right"}]},customStyle:{name:"自定义样式",type:"textarea"}}},margin:{name:"外边距",type:"group",children:{marginTop:{name:"上",type:"number",min:-1e3,max:1e3},marginRight:{name:"右",type:"number",min:-1e3,max:1e3},marginBottom:{name:"下",type:"number",min:-1e3,max:1e3},marginLeft:{name:"左",type:"number",min:-1e3,max:1e3}}},padding:{name:"内边距",type:"group",children:{paddingTop:{name:"上",type:"number",min:-1e3,max:1e3},paddingRight:{name:"右",type:"number",min:-1e3,max:1e3},paddingBottom:{name:"下",type:"number",min:-1e3,max:1e3},paddingLeft:{name:"左",type:"number",min:-1e3,max:1e3}}},font:{name:"字体",type:"group",children:{color:{name:"颜色",type:"color"},fontSize:{name:"大小",type:"number",min:0,max:1e3},isInherit:{name:"继承父级",type:"checkbox"}}},background:{name:"背景",type:"group",children:{backgroundColor:{name:"颜色",type:"color"},backgroundImage:{name:"图片",type:"upload"},backgroundPosition:{name:"位置",type:"select",options:[{label:"左中",value:"left center"},{label:"居中",value:"center"},{label:"右中",value:"right center"},{label:"左上",value:"left top"},{label:"左下",value:"left bottom"},{label:"右上",value:"right top"},{label:"右下",value:"right bottom"}]},backgroundSize:{name:"尺寸",type:"select",options:[{label:"cover",value:"cover"},{label:"contain",value:"contain"},{label:"100%",value:"100% 100%"}]},backgroundRepeat:{name:"重复",type:"select",options:[{label:"不重复",value:"no-repeat"},{label:"x重复",value:"repeat-x"},{label:"y重复",value:"repeat-y"}]}}},border:{name:"边框",type:"group",children:{borderWidth:{name:"宽度",type:"group",children:{borderTopWidth:{name:"上",type:"number",min:0,max:100},borderRightWidth:{name:"右",type:"number",min:0,max:100},borderBottomWidth:{name:"下",type:"number",min:0,max:100},borderLeftWidth:{name:"左",type:"number",min:0,max:100}}},borderColor:{name:"颜色",type:"color"},borderStyle:{name:"样式",type:"select",options:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点",value:"dotted"}]},borderRadius:{name:"圆角",type:"number",min:0,max:1e3}}},boxShadow:{name:"阴影",type:"group",children:{hShadow:{name:"水平",type:"number",min:0,max:100},vShadow:{name:"垂直",type:"number",min:0,max:100},blur:{name:"模糊",type:"number",min:0,max:100},spread:{name:"扩散",type:"number",min:0,max:100},color:{name:"颜色",type:"color"}}},event:{type:"group",name:"事件",children:{onClick:{name:"点击事件的函数体",type:"script"}}}}),E={base:{width:0,isAutoWidth:!0,height:0,isAutoHeight:!0,textAlign:"left",customStyle:"box-sizing:border-box;"},margin:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0},padding:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},font:{color:"#333333",fontSize:14,isInherit:!0},background:{backgroundColor:"",backgroundImage:"",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"},border:{borderWidth:{borderTopWidth:0,borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0},borderColor:"#333333",borderStyle:"solid",borderRadius:0},boxShadow:{hShadow:0,vShadow:0,blur:0,spread:0,color:"rgba(0, 0, 0, .2)"}},S={id:0,name:"demo-tag",root:!0,type:1,className:"",tagName:"div",style:Object(g["a"])({},E),activeStyle:null,event:{onClick:""},eventCallbackHandler:function(){},text:""},j=n("a304"),O=n.n(j),N=function(e){return O()(e)},$=c["default"].extend({name:"Config",data:function(){return{collapse:{},details:null}},model:{prop:"componentData",event:"change"},props:{componentData:{type:Object,required:!0}},watch:{componentData:{deep:!0,handler:function(e,t){t&&t.id===e.id||(this.details=N(e))},immediate:!0},details:{deep:!0,handler:function(e,t){null!==t&&this.$emit("change",e)}}},created:function(){},methods:{renderConfig:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this.getData(n);return Object.keys(o).map(function(o){var a=e[o];switch(e[o].type){case"group":return t.renderGroup(a,o,n);case"number":return t.renderNumber(a,o,n);case"color":return t.renderColor(a,o,n);case"select":return t.renderSelect(a,o,n);case"checkbox":return t.renderCheckbox(a,o,n);case"textarea":return t.renderInput(a,o,n,"textarea");case"upload":return t.renderUpload(a,o,n);case"script":return t.renderEventScript(a,o,n);default:return t.renderUnknow(a,o,n)}})},renderGroup:function(e,t,n){var o=this,a=this.$createElement;return a("div",{class:"config__group"},[a("p",{class:"config__group--title",on:{click:function(){o.$set(o.collapse,t,!o.collapse[t])}}},[a("span",[e.name]),a("i",{class:this.collapse[t]?"el-icon-caret-bottom":"el-icon-caret-right"})]),a("el-collapse-transition",[a("div",{directives:[{name:"show",value:this.collapse[t]}],class:"config__group--item"},[this.renderConfig(e.children,"".concat(n,".").concat(t))])])])},renderNumber:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item"},[a("p",[e.name]),a("el-input-number",{attrs:{min:e.min,max:e.max},model:{value:r[t],callback:function(e){o.$set(r,t,e)}}})])},renderColor:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item"},[a("p",[e.name]),a("el-color-picker",{attrs:{"show-alpha":!0},model:{value:r[t],callback:function(e){o.$set(r,t,e)}}})])},renderSelect:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item"},[a("p",[e.name]),a("el-select",{model:{value:r[t],callback:function(e){o.$set(r,t,e)}}},[e.options.map(function(e){return a("el-option",{attrs:{label:e.label,value:e.value}})})])])},renderCheckbox:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item"},[a("p",[e.name]),a("el-checkbox",{model:{value:r[t],callback:function(e){o.$set(r,t,e)}}})])},renderInput:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input",a=arguments.length>4?arguments[4]:void 0,r=this.$createElement,i=this.getData(n);return r("div",{class:"config__item "+("textarea"===o?"config__item--textarea":"")},[r("p",[e.name]),r("el-input",{attrs:{autosize:{minRows:2,maxRows:10},type:o,value:i[t]},on:{input:function(e){i[t]=e,a&&a(e)}}})])},renderUpload:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item"},[a("p",[e.name]),a("el-input",{attrs:{type:"text",placeholder:"链接地址"},model:{value:r[t],callback:function(e){o.$set(r,t,e)}}})])},renderUnknow:function(e,t,n){},renderInnerText:function(){var e=this,t=this.$createElement;return t("div",{class:"config__group"},[t("p",{class:"config__group--title",on:{click:function(){e.$set(e.collapse,"text",!e.collapse.text)}}},[t("span",["文本项"]),t("i",{class:this.collapse.text?"el-icon-caret-bottom":"el-icon-caret-right"})]),t("el-collapse-transition",[t("div",{directives:[{name:"show",value:this.collapse.text}],class:"config__group--item"},[this.renderInput({name:"文本内容"},"text","details","textarea",function(t){e.$emit("updateNodeText",t)})])])])},renderEventScript:function(e,t,n){var o=this,a=this.$createElement,r=this.getData(n);return a("div",{class:"config__item script"},[a("p",[e.name]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},value:r[t],placeholder:"params e: Event;\nexpression 1; \nexpression 2;"},on:{input:function(e){r[t]=e,o.$emit("updateNodeEvent",e)}}})])},renderGroupContainer:function(e,t,n){var o=this,a=this.$createElement;return a("div",{class:"config__group"},[a("p",{class:"config__group--title",on:{click:function(){o.$set(o.collapse,t,!o.collapse[t])}}},[a("span",[e]),a("i",{class:this.collapse[t]?"el-icon-caret-bottom":"el-icon-caret-right"})]),a("el-collapse-transition",[a("div",{directives:[{name:"show",value:this.collapse[t]}],class:"config__group--item"},[n()])])])},getData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(".");return t&&n.pop(),n.reduce(function(e,t){return e[t]},this)}},render:function(){var e=arguments[0],t=this.details.type;return e("div",{class:"config"},[e("p",["组件配置"]),this.renderConfig(w,"details.style"),2===t&&this.renderInnerText(),this.renderGroup(w.event,"event","details")])}}),T=$,L=(n("f034"),Object(p["a"])(T,r,i,!1,null,null,null)),R=L.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list"},[0===e.components.length?[n("el-button",{attrs:{type:"primary"},on:{click:function(){return e.createEmpty({type:1})}}},[e._v("\n      新建空白组件\n    ")]),n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.replaceState()}}},[e._v("\n      从本地导入state\n    ")])]:[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveLocal()}}},[e._v("\n      保存到本地\n    ")]),n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.save()}}},[e._v("\n      生成js文件\n    ")])],n("p",{staticClass:"mtb10 bg-f2 p10 f14"},[e._v("节点树")]),n("tree",{ref:"tree",attrs:{list:e.nodeTree},on:{append:e.appendNode,remove:e.removeNode,copy:e.copy}})],2)},P=[],H=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-group"},e._l(e.list,function(t){return n("div",{key:t.id,staticClass:"tree"},[n("div",{staticClass:"tree__item",class:{"bg-f2":e.currentComponent.id===t.id},on:{click:function(n){return e.setCurr(t)}}},[n("i",{staticClass:"el-icon-caret-bottom"}),n("span",[e._v(e._s(t.root?"根结点":"子节点"+t.className.substr(-2)))]),2!==t.type?[n("el-button",{attrs:{type:"text"},on:{click:function(n){return n.stopPropagation(),e.$emit("append",t,1)}}},[e._v("添加块")]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return n.stopPropagation(),e.$emit("append",t,2)}}},[e._v("添加文本")])]:e._e(),t.root?e._e():[n("el-button",{attrs:{type:"text"},on:{click:function(n){return n.stopPropagation(),e.$emit("copy",t,e.parent)}}},[e._v("\n          复制粘贴\n        ")]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return n.stopPropagation(),e.$emit("remove",t,e.parent)}}},[e._v("\n          删除\n        ")])]],2),n("tree",{attrs:{list:t.children,parent:t},on:{append:function(t,n){return e.$emit("append",t,n)},remove:function(t,n){return e.$emit("remove",t,n)},copy:function(t,n){return e.$emit("copy",t,n)}}})],1)}),0)}),D=[],W={};function z(e,t,n,o){var a="".concat(n||"",".").concat(e);if(!W[a]||o){var r=(t||document.body).querySelector(a);if(!r)return null;W[a]=r}return W[a]}n("20d6"),n("c5f6"),n("a481");var A=function(e){return e.replace(/([^-])(?:-+([^-]))/g,function(e,t,n){return t+n.toUpperCase()})};function M(e){var t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return"_"===t.slice(0,1)&&(t=t.slice(1)),t}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){var n=t.find(function(t){return Number(t.id)===Number(e.id)});return Object.assign({},n,{children:e.children.length?B(e.children,t):[]})})}function J(e,t){var n=null,o=function e(o){for(var a=0;a<o.length;a++){if(o[a].id===t){n=o[a];break}e(o[a].children)}};return o(e),n}function U(e,t){var n=[],o=!1,a=function e(a){for(var r=0;r<a.length;r++){if(a[r].id===t){o=!0,n.push(r);break}n.push(r),e(a[r].children),o||n.pop()}};return a(e),n}function q(e,t,n){var o=J(e,t);o.children.push(n)}function G(e,t,n){var o=J(e,n),a=o.children.findIndex(function(e){return e.id===t}),r=o.children[a];o.children.splice(a,1);var i=[r.id],c=function e(t){t.forEach(function(t){i.push(t.id),t.children&&e(t.children)})};return c(r.children),i}function F(e,t){"string"===typeof e&&(e=e.trim());var n="vw"===t;return t&&/^\d+$/.test(e)?"".concat(n?"".concat(e/3.75,"vw"):"".concat(e).concat(t)):e}function Z(e,t){var n={};return Object.keys(e).forEach(function(o){n[o]=F(e[o],t)}),n}var K=function(e,t){if(!e)return{};var n={};return e.split(";").filter(Boolean).forEach(function(e){var o=e.split(":");n[A(o[0].trim())]=F(o[1],t)}),n},Q=function(e,t){return Object.keys(e).reduce(function(n,o){return n+"".concat(M(o),":").concat(F(e[o],t),";")},"")},V=function(e,t){var n=e.width,o=e.isAutoWidth,a=e.height,r=e.isAutoHeight,i=e.textAlign,c=e.customStyle,l={width:o?"auto":F(n,"px"),height:r?"auto":F(a,"px"),textAlign:i};return t?Object.assign(l,K(c)):Q(l)+c};function X(e){return Object.keys(e).map(function(t){return e[t]}).join(" ")}function Y(e,t){var n=Z(e.borderWidth,"px"),o=Z(e,"px");return o.borderWidth=X(n),t?Q(o):o}function ee(e,t){var n=Z(e,"px"),o={boxShadow:"".concat(n.hShadow," ").concat(n.vShadow," ").concat(n.blur," ").concat(n.spread," ").concat(n.color)};return t?Q(o):o}function te(e){var t="".concat(e.backgroundColor);return e.backgroundImage&&(t+=" url(".concat(e.backgroundImage,") ").concat(e.backgroundPosition," / ").concat(e.backgroundSize," ").concat(e.backgroundRepeat)),t?Q({background:t}):""}function ne(e){var t=Z(e,"px");return t.fontSize=t.isInherit?"inherit":t.fontSize,delete t.isInherit,Q(t)}function oe(e,t,n){var o=t?"\ndiv".concat(n?".".concat(n):""," {\n"):{};return Object.keys(e).forEach(function(n){switch(n){case"base":t?o+=V(e[n]):Object.assign(o,V(e[n],!0));break;case"margin":case"padding":t?o+=Q(e[n],"px"):Object.assign(o,Z(e[n],"px"));break;case"font":o+=ne(e[n]);break;case"border":t?o+=Y(e[n],t):Object.assign(o,Y(e[n],t));break;case"boxShadow":t?o+=ee(e[n],!0):Object.assign(o,ee(e[n]));break;case"background":o+=te(e[n]);break}}),t?o+"\n}":o}var ae={stack:{},add:function(e,t){this.stack[e]=t},update:function(e){this.stack[e.id]&&(z(e.className,this.getEl(e).shadowRoot,"style").textContent=oe(e.style,!0,e.className))},getEl:function(e){return this.stack[e.id].elem}},re={name:"Tree",props:{list:{type:Array,required:!0},parent:{type:Object}},computed:Object(g["a"])({},Object(y["c"])(["currentComponent","components"])),created:function(){},methods:Object(g["a"])({},Object(y["b"])(["setCurrent"]),{setCurr:function(e){var t=ae.getEl(this.components[0]).shadowRoot,n=z("active",t,"div",!0);n&&n.classList.remove("active"),z(e.className,t,"div").classList.add("active"),this.setCurrent(e)}})},ie=re,ce=(n("f528"),Object(p["a"])(ie,H,D,!1,null,null,null)),le=ce.exports,se=n("d225"),ue=n("b0b4"),de=n("308d"),pe=n("6bb5"),me=n("4e2b"),fe=n("f28b"),he=(n("fd24"),n("2397"),function(e,t,n){return"".concat(t).concat(n?"":"-child","-").concat(e)}),ve=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.id=Date.now(),e.root=t,e.className=he(e.id,e.name,e.root),e.type=n},be=function(e,t){ae.update(Object(g["a"])({},t,{id:e.id}))};function ge(e,t){2===e.type&&(t.innerText=e.text),e.eventCallbackHandler=function(t){t.stopPropagation(),new Function("e",e.event.onClick)(t)},t.addEventListener("click",e.eventCallbackHandler)}var ye=HTMLElement;function xe(e,t){var n=e.find(function(e){return e.root})||e[0];customElements.define(n.name,function(o){function a(){var o;Object(se["a"])(this,a),o=Object(de["a"])(this,Object(pe["a"])(a).call(this));var r=o.attachShadow({mode:"open"}),i=document.createElement("div");if(t){var c,l=i,s=function t(n){(n||[]).forEach(function(n){var o=e.find(function(e){return e.id===n.id})||e[0],a=document.createElement("div"),i=document.createElement("style");a.className=o.className,ge(o,a),i.className=o.className,i.textContent=oe(o.style,!0,o.className),l.appendChild(a),r.appendChild(i),c=l,l=a,t(n.children),l=c})};s(t),r.appendChild(i.childNodes[0])}else{i.className=n.className,ge(n,i);var u=document.createElement("style");u.className=n.className,u.textContent=oe(n.style,!0,n.className),r.appendChild(u),r.appendChild(i)}return o}return Object(me["a"])(a,o),Object(ue["a"])(a,[{key:"connectedCallback",value:function(){var e=document.createElement("style");e.className="active",e.textContent=".active {\n border: 1px blue dashed;overflow:hidden; \n}",this.shadowRoot&&this.shadowRoot.appendChild(e),ae.add(n.id,{id:n.id,className:n.className,elem:this})}},{key:"adoptedCallback",value:function(){console.log("adoptedCallback")}},{key:"disconnectedCallback",value:function(){console.log("disconnectedCallback")}},{key:"attributeChangedCallback",value:function(e,t,n){console.log(e,t,n)}}]),a}(Object(fe["a"])(HTMLElement)))}function ke(e,t){xe(t)}function Ce(e,t){xe(e,t)}function _e(e,t,n){var o=ae.getEl(e).shadowRoot,a=z(e.className,o,"div"),r=U(n,t.id);r.shift();for(var i=a,c=0;c<r.length;c++)if(c===r.length-1){var l=document.createElement("div");l.className=t.className,ge(t,l),i.appendChild(l);var s=document.createElement("style");s.className=t.className,s.textContent=oe(t.style,!0,t.className),o.appendChild(s)}else i=i.childNodes[r[c]]}window.HTMLElement=function(){return Reflect.construct(ye,[],this.constructor)},HTMLElement.prototype=ye.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,ye);var we=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(o){case 1:ke(e,t);break;case 2:Ce(t,n);break;case 3:_e(t[0],e,n);break;default:console.log("no create way")}};function Ee(e,t,n){z(t.className,ae.getEl(e).shadowRoot,"div").innerText=n}function Se(e,t,n){var o=z(t.className,ae.getEl(e).shadowRoot,"div");t.eventCallbackHandler&&o.removeEventListener("click",t.eventCallbackHandler),t.eventCallbackHandler=function(e){e.stopPropagation(),new Function("e",n)(e)},o.addEventListener("click",t.eventCallbackHandler)}function je(e,t){var n=ae.getEl(e).shadowRoot;t.reverse().forEach(function(e){z(e.className,n,"style").remove(),z(e.className,n,"div").remove()})}var Oe={name:"List",components:{Tree:le},data:function(){return{nodeTree:[],defaultProps:{label:"className",children:"children"}}},computed:Object(g["a"])({},Object(y["c"])(["relationShip","components"])),watch:{relationShip:{deep:!0,handler:function(e){this.nodeTree=B(e,this.components)},immediate:!0}},created:function(){},methods:Object(g["a"])({},Object(y["b"])(["createEmpty","createCopy","deleteComponent"]),{appendNode:function(e,t){this.createEmpty({type:t,parentId:e.id})},removeNode:function(e,t){this.deleteComponent({component:e,parent:t})},copy:function(e,t){var n=this.components.find(function(t){return t.id===e.id});this.createCopy({component:n,parent:t})},saveLocal:function(){localStorage.local=JSON.stringify(this.$store.state)},save:function(){var e=this.$loading("处理中"),t=document.createElement("form");t.action="http://localhost:3003/generate",t.method="POST";var n=document.createElement("input");n.name="state",n.value=JSON.stringify({relationShip:this.relationShip,components:this.components}),t.appendChild(n),document.body.appendChild(t),t.submit(),setTimeout(function(){e.close()},2e3)},replaceState:function(){var e=this,t=JSON.parse(localStorage.local);t&&(we(null,t.components,t.relationShip,2),this.$store.replaceState(t),this.$nextTick(function(){e.$refs.tree.setCurr(t.components[0])}))}})},Ne=Oe,$e=Object(p["a"])(Ne,I,P,!1,null,null,null),Te=$e.exports,Le=c["default"].extend({name:"home",data:function(){return{}},components:{Mobile:_,Config:R,List:Te},computed:Object(g["a"])({},Object(y["c"])(["currentComponent"])),methods:Object(g["a"])({},Object(y["b"])(["updateComponent","updateNodeText","updateNodeEvent"]))}),Re=Le,Ie=(n("c219"),Object(p["a"])(Re,v,b,!1,null,null,null)),Pe=Ie.exports;c["default"].use(h["a"]);var He=new h["a"]({routes:[{path:"/",name:"home",component:Pe},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});c["default"].use(y["a"]);var De=new y["a"].Store({state:{currentComponent:void 0,relationShip:[],components:[]},getters:{root:function(e){return e.components.find(function(e){return e.root})}},mutations:{createEmpty:function(e,t){var n=N(S);ve(n,!t.parentId,t.type),e.components.push(n),e.currentComponent||(e.currentComponent=n),t.parentId?(q(e.relationShip,t.parentId,{id:n.id,children:[]}),we(n,e.components,e.relationShip,3)):(e.relationShip.push({id:n.id,children:[]}),we(n,e.components,e.relationShip,1))},createCopy:function(e,t){var n=N(t.component);ve(n,!1,t.component.type),e.components.push(n),q(e.relationShip,t.parent.id,{id:n.id,children:[]}),we(n,e.components,e.relationShip,3)},updateComponent:function(e,t){e.components.splice(e.components.findIndex(function(e){return e.id===t.id}),1,t);var n=e.components.find(function(e){return e.root});n&&be(n,t)},setCurrent:function(e,t){e.currentComponent=e.components.find(function(e){return e.id===t.id})},updateNodeText:function(e,t){var n=e.components.find(function(e){return e.root});Ee(n,e.currentComponent,t)},updateNodeEvent:function(e,t){var n=e.components.find(function(e){return e.root});Se(n,e.currentComponent,t)},deleteComponent:function(e,t){var n=t.component,o=t.parent;if(e.currentComponent&&e.currentComponent.id===n.id&&(e.currentComponent=e.components[0]),o){var a=G(e.relationShip,n.id,o.id),r=e.components.filter(function(e){return a.some(function(t){return e.id===t})});e.components=e.components.filter(function(e){return a.every(function(t){return e.id!==t})});var i=e.components.find(function(e){return e.root});je(i,r)}else e.components=[],e.relationShip=[]}},actions:{}}),We=n("5c96"),ze=n.n(We);n("0fae");c["default"].use(ze.a,{size:"mini",zIndex:3e3}),c["default"].config.productionTip=!1,new c["default"]({router:He,store:De,render:function(e){return e(f)}}).$mount("#app")},cea4:function(e,t,n){"use strict";var o=n("8d07"),a=n.n(o);a.a},e9bb:function(e,t,n){},f034:function(e,t,n){"use strict";var o=n("75a4"),a=n.n(o);a.a},f528:function(e,t,n){"use strict";var o=n("50df"),a=n.n(o);a.a}});
//# sourceMappingURL=app.c1b507e9.js.map